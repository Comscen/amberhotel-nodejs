<!DOCTYPE html>
<html>

<%- include("partials/header.ejs") %>

<body>

    <%- include("partials/nav.ejs") %>

    <div class="container">
        <div class="row">

            <div class="col-md-12">
            <% if (typeof messages != 'undefined') { %>
                <% for (message of messages) { %>
                        <div class="alert alert-success" role="alert" style="margin-top: 16px;"><span><%= message.msg %></span></div>
                    <% } %>
            <% } %>
            </div>
                        
            <div class="col-md-12">
            <% if (typeof errors != 'undefined') { %>
                <% for (error of errors) { %>
                        <div class="alert alert-danger" role="alert" style="margin-top: 16px;"><span><%= error.msg %></span></div>
                <% } %>
            <% } %>
            </div>
            
            <div class="col-md-12 text-center account-info" style="padding-top: 5px; padding-bottom: 5px">
                <div class="card" style="border: 0px">
                    <div class="card-header" style="background-color: white;">
                        <ul class="nav nav-tabs card-header-tabs">
                            <li class="nav-item">
                                <a href="/account/<%= userId %>/edit" class="nav-link" style="color: rgb(224,116,37)">Info</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link active" style="border: 1px solid #dee2e6; border-radius: 5%;">Password</a>
                            </li>
                        </ul>
                    <div class="card-body">
                        <div class="table-responsive text-left">
                            <form method="post" onsubmit = "return validateForm(this)">
                                <table class="table">
                                    <thead>
                                        <tr></tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="width: 250px;">New password</td>
                                            <td><input name="password" type="password" oninput="isFieldValid(this)" class="form-control" placeholder="New password" required>
                                                <small id="passwordError" class="form-text text-muted" style="display: none;">5-30 characters long with at least one small letter, one big letter and one number.</small>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Repeat Password</td>
                                            <td>
                                                <input name="repeatPassword" class="form-control" oninput="doPasswordsMatch(this)" type="password" placeholder="Repeat new password" required>
                                                <small id="repeatPasswordError" class="form-text text-muted"  style="display: none;">Passwords do not match</small>
                                                
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Current password</td>
                                            <td><input name="oldPassword" type="password" class="do-not-check form-control" placeholder="Current password" required></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td><input type="submit" value="Change password"  class="btn btn-primary btn-sm float-right" style="background: rgb(224,116,37);"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </form>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>

    <script src="/js/basicValidation.js" type="application/javascript"></script>

    <%- include("partials/footer.ejs") %>
    <%- include("partials/scripts.ejs") %>

</body>

</html>